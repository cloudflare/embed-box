@import "styl/fonts"
@import "styl/font-smoothing"
@import "styl/media-query-variables"

.button
  subpixelAntialiasedFonts()
  position relative
  text-rendering optimizeLegibility
  -webkit-tap-highlight-color transparent
  user-select none
  appearance none
  display inline-block
  cursor pointer
  border 0
  border-radius .1875em
  font-size 1em
  padding .6em 2em
  margin 0
  text-align center
  font-family sansSerifFonts
  font-weight 300
  letter-spacing .04em
  text-indent @letter-spacing
  text-decoration none

  @media chromeAndSafariOnlyQuery
    font-weight 400

  @media chromeOnlyQuery
    font-weight 300

  &:hover
    text-decoration none

  &[disabled]
    opacity .7

    &:hover, &:focus, &:focus:hover
      box-shadow none !important

  &:hover
    box-shadow 0 .1875em .375em -.1875em rgba(#000, .325)

  &:hover:active
    box-shadow inset 0 .125em .375em rgba(#000, .325)

  &:focus
    outline none

    &::before
      // `px` below to avoid `em` rounding issues
      content ""
      position absolute
      z-index 1
      top 2px
      right 2px
      bottom 2px
      left 2px
      border-radius .1em
      box-shadow inset 0 0 0 1px currentColor
      pointer-events none
      transition opacity .3s ease-in-out

    &:active::before
      opacity 0

  &.primary
    background #000
    color #fff
